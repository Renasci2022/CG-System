# 功能分析

 - 可以播放 cg
    - cg 要素：图片、文本框、对话框、动画
    - 功能需求：暂停、快进、步进
- 立绘、表情系统
- 层次：角色-表情
    - 头像动画效果
- 交互（输入系统）
    - 鼠标点击或特殊手势步进
    - 快进
    - 交互控制
- 播放背景音乐，音效
    - 背景音乐
    - 打字音效
    - 特殊音效
- 其他支持
    - 支持多种语言
    - 支持多分辨率（补充白边）

# 设计思想

- 尽可能运用**面向数据**的思想。最终由`CGPlayer`类来控制一段剧情的播放。
- 抛弃面向对象的思想，将数据和行为完全分开：
	- 类：保存一系列数据，及更新数据的一系列方法
	- 接口：一组特定功能

以文本框为例，`TextBlock`为基类派生出`Narration`，并规定一系列抽象方法。外部的`CGPlayer`只需要调用`TextBlock`规定的方法，初始化和多语言功能只需要调用`Narration`本身的属性和方法。

- 尽可能少的进行分级，`Scene`层级在管理美术资源上是必要的，但在程序设计中若担任信息的传递者则是繁琐的，信息的双向传递会多一层。考虑**面向数据**的程序设计。将`Scene`视为背景图片的载体，和`Narration`等文本块一起由`CGPlayer`管理。
- 各个部件的播放管理直接交给`CGPlayer`解决。和外部的交互另外设置`CGManager`提供方法。

